MapGroup00Indices: ; c79b1
	db MAP_MAP_00_00
	db MAP_MAP_00_01
	db MAP_MAP_00_02
	db MAP_MAP_00_03
	db MAP_MAP_00_04
	db MAP_MAP_00_10
	db MAP_MAP_00_11
	db MAP_MAP_00_12
	db MAP_MAP_00_13
	db MAP_MAP_00_14
	db MAP_MAP_00_15
	db MAP_MAP_00_16
	db MAP_MAP_00_17
	db MAP_MAP_00_18
	db MAP_MAP_00_19
	db MAP_MAP_00_20
	db MAP_MAP_00_21
	db MAP_MAP_00_22
	db MAP_MAP_00_23
	db MAP_MAP_00_24
	db MAP_MAP_00_25
	db MAP_MAP_00_26
	db MAP_MAP_00_27
	db MAP_MAP_00_28
	db MAP_MAP_00_29
	db MAP_MAP_00_30
	db MAP_MAP_00_31
	db MAP_MAP_00_32
	db MAP_MAP_00_33
	db $ff

MapGroup01Indices: ; c79cf
	db MAP_MAP_01_00
	db $ff

MapGroup02Indices: ; c79d1
	db MAP_MAP_02_00
	db MAP_MAP_02_01
	db MAP_MAP_02_02
	db MAP_MAP_02_03
	db MAP_MAP_02_04
	db MAP_MAP_02_08
	db $ff

MapGroup03Indices: ; c79d8
	db MAP_MAP_03_00
	db MAP_MAP_03_10
	db MAP_MAP_03_11
	db MAP_MAP_03_12
	db MAP_MAP_03_13
	db MAP_MAP_03_14
	db MAP_MAP_03_15
	db $ff

MapGroup04Indices: ; c79e0
	db MAP_MAP_04_01
	db $ff

MapGroup05Indices: ; c79e2
	db MAP_MAP_05_00
	db MAP_MAP_05_20
	db MAP_MAP_05_21
	db MAP_MAP_05_30
	db MAP_MAP_05_31
	db MAP_MAP_05_32
	db MAP_MAP_05_33
	db MAP_MAP_05_34
	db MAP_MAP_05_35
	db MAP_MAP_05_36
	db $ff

MapGroup06Indices: ; c79ed
	db MAP_MAP_06_00
	db $ff

MapGroup07Indices: ; c79ef
	db MAP_MAP_07_00
	db $ff

MapGroup08Indices: ; c79f1
	db MAP_MAP_08_00
	db MAP_MAP_08_01
	db $ff

MapGroup09Indices: ; c79f4
	db MAP_MAP_09_00
	db MAP_MAP_09_01
	db MAP_MAP_09_02
	db MAP_MAP_09_03
	db MAP_MAP_09_04
	db $ff

MapGroup10Indices: ; c79fa
	db $ff

MapGroup11Indices: ; c79fb
	db MAP_MAP_11_00
	db $ff

MapGroup12Indices: ; c79fd
	db MAP_MAP_12_00
	db MAP_MAP_12_01
	db MAP_MAP_12_02
	db MAP_MAP_12_03
	db $ff

MapGroup13Indices: ; c7a02
	db $ff

MapGroup14Indices: ; c7a03
	db $ff

MapGroup17Indices: ; c7a04
	db MAP_MAP_17_00
	db MAP_MAP_17_01
	db MAP_MAP_17_10
	db MAP_MAP_17_11
	db MAP_MAP_17_12
	db MAP_MAP_17_13
	db MAP_MAP_17_14
	db MAP_MAP_17_15
	db MAP_MAP_17_16
	db MAP_MAP_17_17
	db MAP_MAP_17_18
	db MAP_MAP_17_19
	db $ff

MapGroup18Indices: ; c7a11
	db MAP_MAP_18_00
	db MAP_MAP_18_01
	db MAP_MAP_18_10
	db MAP_MAP_18_11
	db MAP_MAP_18_12
	db MAP_MAP_18_13
	db MAP_MAP_18_14
	db MAP_MAP_18_15
	db MAP_MAP_18_16
	db MAP_MAP_18_17
	db MAP_MAP_18_18
	db $ff

MapGroup19Indices: ; c7a1d
	db MAP_MAP_19_00
	db MAP_MAP_19_01
	db MAP_MAP_19_02
	db MAP_MAP_19_03
	db MAP_MAP_19_10
	db MAP_MAP_19_11
	db MAP_MAP_19_20
	db MAP_MAP_19_21
	db MAP_MAP_19_22
	db MAP_MAP_19_30
	db MAP_MAP_19_31
	db MAP_MAP_19_32
	db MAP_MAP_19_33
	db MAP_MAP_19_34
	db MAP_MAP_19_35
	db MAP_MAP_19_36
	db MAP_MAP_19_37
	db MAP_MAP_19_38
	db MAP_MAP_19_39
	db MAP_MAP_19_40
	db $ff

MapGroup20Indices: ; c7a32
	db MAP_MAP_20_00
	db MAP_MAP_20_01
	db $ff

MapGroup21Indices: ; c7a35
	db MAP_MAP_21_00
	db MAP_MAP_21_10
	db MAP_MAP_21_11
	db MAP_MAP_21_12
	db MAP_MAP_21_13
	db MAP_MAP_21_14
	db MAP_MAP_21_20
	db MAP_MAP_21_21
	db MAP_MAP_21_22
	db MAP_MAP_21_23
	db MAP_MAP_21_24
	db MAP_MAP_21_25
	db $ff

MapGroup22Indices: ; c7a42
	db MAP_MAP_22_00
	db MAP_MAP_22_01
	db $ff

MapGroup23Indices: ; c7a45
	db MAP_MAP_23_00
	db $ff

MapGroup24Indices: ; c7a47
	db MAP_MAP_24_00
	db MAP_MAP_24_10
	db MAP_MAP_24_11
	db MAP_MAP_24_12
	db MAP_MAP_24_13
	db MAP_MAP_24_14
	db MAP_MAP_24_15
	db MAP_MAP_24_16
	db MAP_MAP_24_17
	db MAP_MAP_24_18
	db MAP_MAP_24_19
	db MAP_MAP_24_20
	db MAP_MAP_24_21
	db MAP_MAP_24_22
	db $ff

MapGroup25Indices: ; c7a56
	db MAP_MAP_25_00
	db MAP_MAP_25_01
	db MAP_MAP_25_02
	db MAP_MAP_25_03
	db MAP_MAP_25_04
	db MAP_MAP_25_05
	db MAP_MAP_25_10
	db MAP_MAP_25_20
	db $ff

MapGroup26Indices: ; c7a5f
	db MAP_MAP_26_00
	db $ff

MapGroup27Indices: ; c7a61
	db MAP_MAP_27_00
	db MAP_MAP_27_01
	db MAP_MAP_27_02
	db MAP_MAP_27_03
	db MAP_MAP_27_04
	db MAP_MAP_27_05
	db MAP_MAP_27_06
	db MAP_MAP_27_07
	db MAP_MAP_27_08
	db MAP_MAP_27_09
	db MAP_MAP_27_10
	db MAP_MAP_27_11
	db $ff

MapGroup28Indices: ; c7a6e
	db MAP_MAP_28_00
	db MAP_MAP_28_01
	db $ff

MapGroup29Indices: ; c7a71
	db MAP_MAP_29_00
	db MAP_MAP_29_01
	db MAP_MAP_29_10
	db MAP_MAP_29_11
	db MAP_MAP_29_12
	db MAP_MAP_29_13
	db MAP_MAP_29_14
	db MAP_MAP_29_20
	db MAP_MAP_29_21
	db MAP_MAP_29_22
	db MAP_MAP_29_23
	db MAP_MAP_29_24
	db MAP_MAP_29_30
	db MAP_MAP_29_31
	db MAP_MAP_29_32
	db MAP_MAP_29_33
	db MAP_MAP_29_34
	db $ff

MapGroup30Indices: ; c7a83
	db MAP_MAP_30_00
	db MAP_MAP_30_01
	db MAP_MAP_30_02
	db MAP_MAP_30_03
	db MAP_MAP_30_04
	db MAP_MAP_30_05
	db MAP_MAP_30_06
	db MAP_MAP_30_07
	db MAP_MAP_30_08
	db MAP_MAP_30_09
	db MAP_MAP_30_10
	db MAP_MAP_30_11
	db MAP_MAP_30_12
	db MAP_MAP_30_13
	db MAP_MAP_30_14
	db $ff

MapGroup31Indices: ; c7a93
	db MAP_MAP_31_00
	db MAP_MAP_31_01
	db MAP_MAP_31_02
	db $ff

MapGroup32Indices: ; c7a97
	db MAP_MAP_32_00
	db MAP_MAP_32_01
	db MAP_MAP_32_02
	db MAP_MAP_32_03
	db MAP_MAP_32_04
	db MAP_MAP_32_05
	db MAP_MAP_32_06
	db MAP_MAP_32_07
	db MAP_MAP_32_08
	db MAP_MAP_32_09
	db MAP_MAP_32_10
	db MAP_MAP_32_11
	db $ff

MapGroupPointers:
	dw MapGroup00Indices
	dw MapGroup01Indices
	dw MapGroup02Indices
	dw MapGroup03Indices
	dw MapGroup04Indices
	dw MapGroup05Indices
	dw MapGroup06Indices
	dw MapGroup07Indices
	dw MapGroup08Indices
	dw MapGroup09Indices
	dw MapGroup10Indices
	dw MapGroup11Indices
	dw MapGroup12Indices
	dw MapGroup13Indices
	dw MapGroup14Indices
	dw $0
	dw $0
	dw MapGroup17Indices
	dw MapGroup18Indices
	dw MapGroup19Indices
	dw MapGroup20Indices
	dw MapGroup21Indices
	dw MapGroup22Indices
	dw MapGroup23Indices
	dw MapGroup24Indices
	dw MapGroup25Indices
	dw MapGroup26Indices
	dw MapGroup27Indices
	dw MapGroup28Indices
	dw MapGroup29Indices
	dw MapGroup30Indices
	dw MapGroup31Indices
	dw MapGroup32Indices

GroupAndNumberToLinearIndex:: ; c7ae6 (31:7ae6)
; args: a, e
; sum([len(xx) for xx in MapGroupPointers[:a]]) + MapGroupPointers[a].index(e) \
;     if e in MapGroupPointers[a] else 0xffff
	push af
	push de
	push bc
	push bc
	ld hl, $0
	call WriteHLToSPPlus3
	ld c, $0
.loop
	ld a, c
	ld hl, sp+$7 ; a
	cp [hl]
	jp nc, .okay
	ld l, c
	ld h, $0
	add hl, hl
	ld de, MapGroupPointers
	add hl, de
	ld a, [hl]
	inc hl
	or [hl]
	jp z, .next
	ld hl, sp+$0
	ld [hl], $0
.loop2
	ld l, c
	ld h, $0
	add hl, hl
	ld de, MapGroupPointers
	add hl, de
	ld e, [hl]
	inc hl
	ld d, [hl]
	ld hl, sp+$0
	ld l, [hl]
	ld h, $0
	add hl, de
	ld a, [hl]
	cp $ff
	jp z, .next
	call GetHLAtSPPlus3
	inc hl
	call WriteHLToSPPlus3
	ld hl, sp+$0
	ld a, [hl]
	inc a
	ld hl, sp+$0
	ld [hl], a
	jp .loop2

.next
	inc c
	jp .loop

.okay
	ld c, $0
.loop3
	ld hl, sp+$7
	ld l, [hl]
	ld h, $0
	add hl, hl
	ld de, MapGroupPointers
	add hl, de
	ld e, [hl]
	inc hl
	ld d, [hl]
	ld l, c
	ld h, $0
	add hl, de
	ld a, [hl]
	cp $ff
	jp z, .nope
	ld hl, sp+$7
	ld l, [hl]
	ld h, $0
	add hl, hl
	ld de, MapGroupPointers
	add hl, de
	ld e, [hl]
	inc hl
	ld d, [hl]
	ld l, c
	ld h, $0
	add hl, de
	ld a, [hl]
	ld hl, sp+$4
	cp [hl]
	jp nz, .next2
	call GetHLAtSPPlus3
	ld e, c
	ld d, $0
	add hl, de
	call WriteHLToSPPlus3
	call GetHLAtSPPlus3
	jp .done

.next2
	inc c
	jp .loop3

.nope
	ld hl, -1
.done
	pop bc
	pop bc
	pop bc
	pop bc
	ret
